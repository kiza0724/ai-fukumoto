;/*FB_PKG_DELIM*/

__d("InstamadilloPostReplySnippet",["fbt","MAWCurrentUser","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=d("MAWCurrentUser").getID();return d("WAJids").isAuthorMe(a)||d("WAJids").extractUserId(a)===b}function a(a,b){return i(a)?h._(/*BTDS*/"\u0040{username}\u3092\u6295\u7a3f\u306b\u30bf\u30b0\u4ed8\u3051\u3057\u307e\u3057\u305f",[h._param("username",b)]).toString():h._(/*BTDS*/"\u6295\u7a3f\u3067\u3042\u306a\u305f\u3092\u30e1\u30f3\u30b7\u30e7\u30f3\u3057\u307e\u3057\u305f").toString()}g.isCurrentUserMe=i;g.getMessageReplySnippetForPost=a}),226);
__d("InstamadilloStoryReplySnippet",["fbt","IGDDataclassTypes.flow","InstamadilloPostReplySnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0040{username}\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f",[h._param("username",b)]):h._(/*BTDS*/"\u0040{username}\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f",[h._param("username",b)])}function j(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u3053\u306e\u4eba\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u306b\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u3057\u307e\u3057\u305f"):h._(/*BTDS*/"\u3042\u306a\u305f\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u306b\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u3057\u307e\u3057\u305f")}function k(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0040{username}\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f",[h._param("username",b)]):h._(/*BTDS*/"\u0040{username}\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f",[h._param("username",b)])}function l(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u3053\u306e\u4eba\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u306b\u8fd4\u4fe1\u3057\u307e\u3057\u305f"):h._(/*BTDS*/"\u3042\u306a\u305f\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u306b\u8fd4\u4fe1\u3057\u307e\u3057\u305f")}function m(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u3067\u0040{username}\u3092\u30e1\u30f3\u30b7\u30e7\u30f3\u3057\u307e\u3057\u305f",[h._param("username",b)]):h._(/*BTDS*/"\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba\u3067\u3042\u306a\u305f\u3092\u30e1\u30f3\u30b7\u30e7\u30f3\u3057\u307e\u3057\u305f")}function a(a,b,c){var e;switch(b.action_type){case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React:e=j(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share:e=b.content_type===d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.StoryHighlight?i(a,b.username):k(a,b.username);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply:e=l(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Mention:e=m(a,c);break}return(b=e)==null?void 0:b.toString()}g.getMessageReplySnippetForStory=a}),226);
__d("getSendStoryToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","InstamadilloStoryReplySnippet","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessageSendStatus","MNXMAPreviewImageDecorationType","PolarisLinkBuilder","asyncToGeneratorRuntime","issueSendInstamadilloXMAReceiverFetch","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,e,f,g,k){var l=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(e+"_"+(f!=null?f:"")),m={__typename:"XMSGIgReceiverFetchXmaStoryFetchParams",reel_id:a,story_igid:e},n={__typename:"XMSGIgXmaContentRefDataclass",action_type:k,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Story,fetch_params:m,owner_fbid:f,target_url:l,username:g},o={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),replySnippet:(a=d("InstamadilloStoryReplySnippet").getMessageReplySnippetForStory("@me",n))!=null?a:void 0,replySourceTypeV2:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE),sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},p={actionUrl:l,nativeUrl:l,targetId:i.of_string(e),type_:"xma_web_url"},q={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),previewImageDecorationType:j.ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON),subtitleText:h._(/*BTDS*/"\u30b9\u30c8\u30fc\u30ea\u30fc\u30ba").toString(),titleText:g};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=k===d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React||d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply,j={contentRef:JSON.stringify(n),text:i?f:void 0};try{var l=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,j,m,q,p,o));yield c("issueSendInstamadilloXMAReceiverFetch")({comment:i?void 0:f,isDisappearingModeSettingOn:b,offlineThreadingId:l,openEb:e,receiverFetchXma:JSON.stringify(j),threadKey:a});g==null||g(a)}catch(b){h==null||h(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);